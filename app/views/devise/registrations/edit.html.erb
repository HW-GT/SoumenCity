<%= render 'partial/navbar' %>
<%= render 'partial/master_subbar'%>

<div class="container">

  <h3>プロフィール編集</h3>
  <hr>

  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
  <%= render 'partial/deviseErrorMsg' %>

      <div class="row">
        <div class="col-md-3 row-space-4">
          <center>

            <!-- プロフィール画像を表示 -->
            <div>
              <div class="user-profile row-space-4 text-center" style="border: solid 0.5px #a9a9a9;">
                <%= image_tag @user.image, :style => "width: 100%; height: 200px; object-fit: cover;" %>
              </div>
            </div>

            <!-- カバー画像を表示 -->
            <div>
              <div class="user-profile row-space-4 text-center" style="border: solid 0.5px #a9a9a9;">
                <%= image_tag @user.cover %>
              </div>
            </div>

            <!-- 自分のプロフィールへのリンク -->
            <%= link_to "自分のプロフィールを確認する", user_path(current_user), class: "btn btn-default" %><br><br>
            
          </center>
        </div>

        <div class="col-md-9">
          <div class="panel panel-default">
            <div class="panel-heading" style="font-size: 15px;">基本情報　<span style="font-size: 13px;"> ー 自分の人柄や状況を知ってもらいましょう ー</span></div>
            <div class="panel-body">

              <div class="form-padding">
                <div class="row" style="text-align: right; padding-top: 12px;"> 
                  <div class="col-md-3">
                    <h5>名前（公開）</h5>
                  </div>
                  <div class="col-md-9 form-group">
                    <%= f.text_field :name, autofocus: true, :placeholder => "入力", :class => 'form-control radius', required: "true" %>
                  </div>

                  <div class="col-md-3">
                    <h5>自己紹介（公開）</h5>
                  </div>
                  <div class="col-md-9 form-group" style="padding-bottom: 10px;">
                    <%= f.text_area :description, rows: 7, :placeholder => "入力（改行やスペースも反映されます）", :class => 'form-control radius', required: "true" %>
                  </div>
                </div>            

                <div class="row"> 
                  <div class="col-md-3" style="text-align: right;">
                    <h5 style="font-size: 14px;">プロフィール写真（公開）</h5>
                  </div>
                  <div class="col-md-9 form-group">
                    <%= f.file_field :image, :class => 'form-control radius' %>
                  </div>
                </div>

                <div class="row"> 
                  <div class="col-md-3" style="text-align: right;">
                    <h5 style="font-size: 14px;">カバー写真（公開）</h5>
                  </div>
                  <div class="col-md-9 form-group">
                    <%= f.file_field :cover, :class => 'form-control radius' %>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>

        <div class="col-md-3">
        </div>

        <div class="col-md-9">
          <div class="panel panel-default">
            <div class="panel-heading" style="font-size: 15px;">ウェブサイト　<span style="font-size: 13px;"> ー 自分のSNSアカウントを公開できます ー</span></div>
            <div class="panel-body">
              
              <div class="form-padding">

                <div class="row" style="text-align: right; padding-bottom: 10px;"> 
                  <div class="col-md-4">
                    <h5>Instagram（公開）</h5>
                  </div>
                  <div class="col-md-8 form-group">
                    <%= f.text_field :ig_url, :placeholder => "例：https://www.instagram.com/*******/（公開しない場合は空欄）", :class => 'form-control radius' %>
                  </div>
                </div>
                
                <div class="row" style="text-align: right; padding-bottom: 10px;"> 
                  <div class="col-md-4">
                    <h5>Facebook（公開）</h5>
                  </div>
                  <div class="col-md-8 form-group">
                    <%= f.text_field :fb_url, :placeholder => "例：https://www.facebook.com/*******（公開しない場合は空欄）", :class => 'form-control radius' %>
                  </div>
                </div>

                <div class="row" style="text-align: right;"> 
                  <div class="col-md-4">
                    <h5>Blog/Homepage（公開）</h5>
                  </div>
                  <div class="col-md-8 form-group">
                    <%= f.text_field :hp_url, :placeholder => "例：https://www.*******.co.jp/*******（公開しない場合は空欄）", :class => 'form-control radius' %>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>

        <div class="col-md-3">
        </div>

        <div class="col-md-9">
          <div class="panel panel-default">
            <div class="panel-heading" style="font-size: 15px;">連絡先　<span style="font-size: 13px;"> ー 正しく登録することで信頼性が高まります ー</span></div>
            <div class="panel-body">
              <br>
              <div class="form-padding" style="margin-top: -12px;">
                <div class="row" style="padding-bottom: 10px;"> 
                  <div class="col-md-4" style="text-align: right; margin-top: -8px;">
                    <h5>メールアドレス（非公開）</h5>
                  </div>
                  <div class="col-md-8 form-group" style="padding-top: 0px;">
                    <%= @user.email %>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>


        <div class="col-md-3">
        </div>

        <div class="col-md-9">
          <div class="panel panel-default">
            <div class="panel-heading" style="font-size: 15px;">パスワード　<span style="font-size: 13px;"> ー セキュリティ強化のため、定期的に変更しましょう ー</span></div>
            <div class="panel-body">

              <div class="form-padding">
                <div class="row" style="text-align: right; padding-bottom: 10px;"> 
                  <div class="col-md-4" style="padding-top: 7px;">
                    <%= f.label :新しいパスワード %>
                  </div>
                  <div class="col-md-8 form-group">
                    <%= f.password_field :password, :placeholder => "8文字以上（変更しない場合は空欄）", autocomplete: "off", :class => 'form-control radius' %>
                  </div>
                </div>
                
                <div class="row" style="text-align: right;"> 
                  <div class="col-md-4" style="padding-top: 8px;">
                    <%= f.label :新しいパスワードの確認 %>
                  </div>
                  <div class="col-md-8 form-group">
                    <%= f.password_field :password_confirmation, :placeholder => "8文字以上（変更しない場合は空欄）", autocomplete: "off", :class => 'form-control radius' %>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

      </div><br>

    <div class="actions" style="text-align: center;">
      <%= link_to "キャンセル", root_path, class: "btn btn-danger" %>&nbsp;&nbsp;&nbsp;
      <%= f.submit "プロフィールを更新", :class => "btn btn-primary" %>

    </div>

  <% end %>
</div><br><br><br>

